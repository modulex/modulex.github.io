
<!doctype html>
<html>
<head>
    <script src="//g.alicdn.com/kissy/k/5.0.1/seed.js"></script>
    <style type="text/css">
        body{
            background: #fff;
        }
    </style>
</head>
<body>

<h1>frame and fx for anim extension</h1>

<div id="t"
     style='width:500px;height:50px;
position: absolute;top:200px;left:100px;
background-image: url("http://img03.taobaocdn.com/tps/i3/T1UfsTXotcXXb6hPny-500-190.png");'></div>

<button id="run">run</button>
<script>
require(['node', 'anim/timer'], function($, TimerAnim){
    $('#run').on('click', function () {
        this.disabled = true;
        var t = $('#t');
        TimerAnim('#t',{
            height:190,
            left: {
                easing: 'easeOut',
                value: 500,
                frame: function (anim,fx) {
                    console.log(fx.pos);
                }
            },
            backgroundPosition: {
                easing: 'easeInStrong',
                frame: function (anim, fx) {
                    var pos=fx.pos;
                    var top = -140 * pos;
                    var left = -450 * pos;
                    t[0].style.backgroundPosition = left + 'px ' + top + 'px';
                }
            }
        },{
            duration: 5,
            easing: 'easeIn'
        }).run();
    });
})
</script>
</body>