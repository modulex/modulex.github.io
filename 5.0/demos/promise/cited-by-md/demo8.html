
<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>promise-Done 的使用示例</title>
<link rel="stylesheet" type="text/css" href="assets/bootstrap.css">
<script src="//g.alicdn.com/kissy/k/5.0.1/seed.js"></script>
</head>
<body>
<h4>Promise Done 的使用示例</h4>
<p>查看代码，打开控制台，点击下面按钮观察结果，会有报错信息产生</p>
<button id="demo8" class="btn btn-default btn-sm">点我执行</button>

<script type="text/javascript">
    require(['node', 'promise'], function(Node, Promise){
        var $ = Node.all;

        $('#demo8').on('click', function(){
           	var d = new Promise.Defer();
		    setTimeout(function() {d.reject("reject")}, 1000);
		    var promise = d.promise;
		    promise.done(function(){  //done和then不同的是：如果没有设置回调函数去处理reject则会抛出异常在控制台输出
		        alert('success');
		    });
        });
    })
</script>
</body>
</html>