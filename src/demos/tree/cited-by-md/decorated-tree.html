<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">
<title>从已有html生成树节点</title>
<link rel="stylesheet" type="text/css" href="//g.alicdn.com/kissy/k/5.0.1/css/base.css">
<link rel="stylesheet" type="text/css" href="//g.alicdn.com/kissy/k/5.0.1/button/assets/dpl.css">
<link rel="stylesheet" type="text/css" href="//g.alicdn.com/kissy/k/5.0.1/tree/assets/dpl.css">
<script type="text/javascript" src="//g.alicdn.com/kissy/k/5.0.1/seed-debug.js"></script>
</head>
<body>
<div style="width:90%;margin:0 auto;">
  <h1>从已有html生成树节点</h1>
  <a href="javascript:void(0)" id="expandAll" class="ks-button">展开全部</a>&nbsp;
  <a href="javascript:void(0)" id="collapseAll" class="ks-button">关闭全部</a>
  <a href="javascript:void(0)" id='remove' class="ks-button">remove first child</a>
  <div id="treeContainer" style="width: 200px;margin: 20px 0;">
       <div id='root' class="ks-tree">
            <div class="ks-tree-node-row ks-tree-row">
                <div class="ks-tree-node-expand-icon ks-tree-expand-icon"></div>
                <div class="ks-tree-node-icon ks-tree-icon"></div>
                <span class="ks-tree-node-content ks-tree-content">淘宝网</span>
            </div>
            <div class="ks-tree-node-children ks-tree-children" >
                <div class="ks-tree-node">
                    <div class="ks-tree-node-row">
                        <div class="ks-tree-node-expand-icon"></div>
                        <div class="ks-tree-node-icon"></div>
                        <span class="ks-tree-node-content">收藏夹</span>
                    </div>
                    <div class="ks-tree-node-children">
                        <div class="ks-tree-node">
                            <div class="ks-tree-node-row">
                                <div class="ks-tree-node-expand-icon"></div>

                                <div class="ks-tree-node-icon"></div>
                                <span class="ks-tree-node-content">收藏的宝贝</span>
                            </div>
                            <div class="ks-tree-node-children"></div>
                        </div>

                        <div class="ks-tree-node ks-tree-node-folder">
                            <div class="ks-tree-node-row">
                                <div class="ks-tree-node-expand-icon"></div>
                                <div class="ks-tree-node-icon"></div>
                                <span class="ks-tree-node-content">收藏的店铺</span>
                            </div>
                            <div class="ks-tree-node-children"></div>
                        </div>
                    </div>
                </div>
                <div class="ks-tree-node">
                    <div class="ks-tree-node-row">
                        <div class="ks-tree-node-expand-icon"></div>
                        <div class="ks-tree-node-icon"></div>
                        <span class="ks-tree-node-content">我要买</span>
                    </div>
                    <div class="ks-tree-node-children"></div>
                </div>
            </div>
        </div>
    </div>
  </div>
  
<script type="text/javascript">
  require(['tree', 'node'], function(Tree, $){
    var tree = new Tree({
        srcNode : '#root',
        expanded: true,
        // showRootNode:false,  //是否显示根节点
    });
    tree.render();

    tree.on("expand", function (e) {
        if (0) {
            S.log("expand : " + e.target.get("content"));
            S.log("expandIconEl");
            S.log(e.target.get("expandIconEl"));
            S.log("iconEl");
            S.log(e.target.get("iconEl"));
        }
    });

    tree.on("collapse", function (e) {
        S.log("collapse : " + e.target.get("content"));
    });

    tree.on("click", function (e) {
        S.log("action : " + e.target.get("content"));
    });

    $("#expandAll").on("click", function () {
        tree.expandAll();
    });

    $("#collapseAll").on("click", function () {
        tree.collapseAll();
    });

    $("#remove").on("click", function () {
        tree.removeChild(tree.getChildAt(0))
    });
  });
</script>
</body>
</html>